### pnpm-workspace.yaml 配置

```js
packages:
  - 'packages/**'

overrides:
  # 强制所有 lodash 依赖使用 4.17.21 版本
  lodash: 4.17.21

  # 也可以使用更具体的路径模式
  '@scope/package-name>lodash': 4.17.21

  # 从 GitHub 仓库安装特定提交
  'npm:@vueuse/core': github:vueuse/vueuse#commit-hash
```

### pnpm 命令配置

1. 将某个包作为 catalog 安装: pnpm add <pkg> --save-catalog
2. 将某个包安装进多个子包：pnpm add lodash --recursive --filter=@myself/web --filter=@myself/locales --save-catalog
3. 从多个子包中删除某个包：pnpm remove lodash --recursive --filter=@myself/web --filter=@myself/locales
4. 更新项目下的所有 typescript 包：pnpm up --recursive typescript@latest
5. 下载本项目的某个子包，并安装到当前项目：pnpm add @包名/子包名@workspace，例如：pnpm add @myself/component@workspace

### package.json 配置

npm 包的版本号遵循主版本号.次版本号.修订号（Major.Minor.Patch）的格式，例如 1.2.3。

^ 符号的作用
允许安装兼容的更新版本：^会匹配到同一个主版本号下的最新版本，也就是允许次版本号和修订号进行更新，但不允许主版本号更新。
比如：^1.2.3：表示可以安装>=1.2.3 <2.0.0 范围内的版本，也就是主版本号为 1，次版本号和修订号可以是任意大于等于 2.3 的数字。

### 主题颜色替换的调用过程逻辑

packages\effects\layouts\src\widgets\preferences\preferences.vue的listen触发updatePreferences--->handleUpdates---->updateCSSVariables

### 权限系统设计

```js
const routes = [
  {
    component: () => import('#/views/@core/Layout.vue'),
    meta: {
      showInBreadcrumb: true, // 是否显示面包栏
      showInTab: true, // 是否显示在标签栏
      showInMenu: true, // 是否显示在菜单栏
      title: 'Root' // 标题
      cache: true, // 是否缓存
    },
    name: 'Root', // 路由名称
    path: '/', // 路由地址
    redirect: '/home', // 重定向
    query: '{"id": 1, "name": "ry"}' // 访问路由的默认传递参数
    // roles: ['admin', 'common']       // 访问路由的角色权限，角色权限由后端拦截，前端不做拦截
    // permissions: ['a:a:a', 'b:b:b']  // 访问路由的菜单权限
    children: [
      // 子路由
      {
        name: 'Hpme',
        path: 'home',
        component: () => import('#/views/home.vue'),
        meta: {
          title: 'home页'
        }
      }
    ]
  }
]
```

### 模板命令行系统设计相关包

- download-git-repo
- 命令参数解析：commander 用于处理命令行参数和选项。
- 人机交互：prompts 实现与用户的动态交互，支持多选、确认等操作(inquirer/input / select)。
- 控制台高亮：chalk 和 picocolors 用于美化控制台输出，提高可读性。
- ora: 终端loading美化工具
- figlet: 终端生成艺术字
- git-clone: 下载项目模版工具
- 模板处理：handlebars 作为模板引擎，用于生成动态代码片段。
- 私有 NPM 仓库：verdaccio / nexus 用于搭建团队的 NPM 私有仓库，实现包管理的自主化。
- fs-etra: 用来操作文件目录 瑞士军刀

### axios使用方法

```js
request({
  path: { // 对应url中的动态查询参数
    id: row.id
  },
  body: { // 对应request.body
    status: row.status
  },
  query: { // 对应reuest.query
    status: r
  };
})
```
