import{_ as x,x as _,I as u,c as p,o as b,J as i,w as C,a as r,j as o,G as V,H as D,t as S,bl as E}from"./chunks/framework.DFj1EtU5.js";import{E as f}from"./chunks/theme.NgAwogG-.js";const M={class:"demo-tree-select-dialog"},I={__name:"basic",setup(k){const a=_(!1),e=[{id:"1",label:"一级节点 1",children:[{id:"1-1",label:"二级节点 1-1",children:[{id:"1-1-1",label:"三级节点 1-1-1"}]},{id:"1-2",label:"二级节点 1-2"}]},{id:"2",label:"一级节点 2",children:[{id:"2-1",label:"二级节点 2-1"}]}],m=n=>{f.success(`已选择: ${n.label}`)};return(n,d)=>{const s=u("el-button"),g=u("ml-tree-select-dialog");return b(),p("div",M,[i(s,{type:"primary",onClick:d[0]||(d[0]=c=>a.value=!0)},{default:C(()=>[...d[2]||(d[2]=[r("打开树形选择对话框",-1)])]),_:1}),i(g,{modelValue:a.value,"onUpdate:modelValue":d[1]||(d[1]=c=>a.value=c),title:"选择部门","tree-data":e,onConfirm:m},null,8,["modelValue"])])}}},j=x(I,[["__scopeId","data-v-91eed2aa"]]),w={class:"demo-tree-select-dialog"},B={__name:"multiple",setup(k){const a=_(!1),e=[{id:"1",label:"用户管理",children:[{id:"1-1",label:"用户列表"},{id:"1-2",label:"用户新增"},{id:"1-3",label:"用户编辑"}]},{id:"2",label:"角色管理",children:[{id:"2-1",label:"角色列表"},{id:"2-2",label:"角色配置"}]}],m=n=>{const d=n.map(s=>s.label).join(", ");f.success(`已选择: ${d}`)};return(n,d)=>{const s=u("el-button"),g=u("ml-tree-select-dialog");return b(),p("div",w,[i(s,{type:"primary",onClick:d[0]||(d[0]=c=>a.value=!0)},{default:C(()=>[...d[2]||(d[2]=[r("打开多选对话框",-1)])]),_:1}),i(g,{modelValue:a.value,"onUpdate:modelValue":d[1]||(d[1]=c=>a.value=c),title:"选择权限（多选）","tree-data":e,multiple:"","default-selected-keys":["1","1-1"],onConfirm:m},null,8,["modelValue"])])}}},L=x(B,[["__scopeId","data-v-ee4f67ea"]]),A={class:"demo-tree-select-dialog"},U={class:"event-log"},q={class:"log-list"},J={__name:"events",setup(k){const a=_(!1),e=_([]),m=[{id:"1",label:"一级节点 1",children:[{id:"1-1",label:"二级节点 1-1",children:[{id:"1-1-1",label:"三级节点 1-1-1"}]},{id:"1-2",label:"二级节点 1-2"}]},{id:"2",label:"一级节点 2",children:[{id:"2-1",label:"二级节点 2-1"}]}],n=l=>{const t=new Date().toLocaleTimeString();e.value.unshift(`[${t}] ${l}`),e.value.length>10&&e.value.pop()},d=(l,t,h)=>{n(`节点点击: ${l.label}`),f.success(`点击了节点: ${l.label}`)},s=(l,t,h)=>{n(`勾选变更: ${l.label} - ${t?"选中":"取消"}`)},g=(l,t)=>{l&&n(`当前节点变更: ${l.label}`)},c=(l,t,h)=>{n(`节点展开: ${l.label}`)},y=(l,t,h)=>{n(`节点收起: ${l.label}`)},N=l=>{const t=l.label||l.map(h=>h.label).join(", ");n(`确认选择: ${t}`),f.success(`已选择: ${t}`),a.value=!1},$=()=>{n("对话框关闭")};return(l,t)=>{const h=u("el-button"),P=u("ml-tree-select-dialog");return b(),p("div",A,[i(h,{type:"primary",onClick:t[0]||(t[0]=v=>a.value=!0)},{default:C(()=>[...t[2]||(t[2]=[r("打开对话框测试事件",-1)])]),_:1}),o("div",U,[t[3]||(t[3]=o("h4",null,"事件日志：",-1)),o("div",q,[(b(!0),p(V,null,D(e.value,(v,T)=>(b(),p("div",{key:T,class:"log-item"},S(v),1))),128))])]),i(P,{modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=v=>a.value=v),title:"事件透传示例","tree-data":m,onNodeClick:d,onCheckChange:s,onCurrentChange:g,onNodeExpand:c,onNodeCollapse:y,onConfirm:N,onClose:$},null,8,["modelValue"])])}}},O=x(J,[["__scopeId","data-v-7a91d14c"]]),K=JSON.parse('{"title":"MlTreeSelectDialog 树形选择对话框","description":"","frontmatter":{},"headers":[],"relativePath":"components/tree-select-dialog.md","filePath":"components/tree-select-dialog.md"}'),F={name:"components/tree-select-dialog.md"},R=Object.assign(F,{setup(k){return(a,e)=>(b(),p("div",null,[e[0]||(e[0]=o("h1",{id:"mltreeselectdialog-树形选择对话框",tabindex:"-1"},[r("MlTreeSelectDialog 树形选择对话框 "),o("a",{class:"header-anchor",href:"#mltreeselectdialog-树形选择对话框","aria-label":"Permalink to “MlTreeSelectDialog 树形选择对话框”"},"​")],-1)),e[1]||(e[1]=o("p",null,"树形选择对话框组件，将树形选择功能集成到对话框中，支持单选、多选等功能。",-1)),e[2]||(e[2]=o("h2",{id:"基础用法",tabindex:"-1"},[r("基础用法 "),o("a",{class:"header-anchor",href:"#基础用法","aria-label":"Permalink to “基础用法”"},"​")],-1)),e[3]||(e[3]=o("p",null,"点击按钮打开对话框，在对话框中选择树形数据。",-1)),i(j),e[4]||(e[4]=o("h2",{id:"多选对话框",tabindex:"-1"},[r("多选对话框 "),o("a",{class:"header-anchor",href:"#多选对话框","aria-label":"Permalink to “多选对话框”"},"​")],-1)),e[5]||(e[5]=o("p",null,[r("通过 "),o("code",null,"multiple"),r(" 属性支持多选功能。")],-1)),i(L),e[6]||(e[6]=o("h2",{id:"事件透传示例",tabindex:"-1"},[r("事件透传示例 "),o("a",{class:"header-anchor",href:"#事件透传示例","aria-label":"Permalink to “事件透传示例”"},"​")],-1)),e[7]||(e[7]=o("p",null,"所有 el-tree 的事件都会自动透传，可以直接在父组件中监听。",-1)),i(O),e[8]||(e[8]=E('<div class="tip custom-block"><p class="custom-block-title">事件透传原理</p><p>组件使用 <code>v-on=&quot;$attrs&quot;</code> 实现事件批量透传，无需手动定义每个事件。</p><p><strong>透传链路：</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>父组件 → MlTreeSelectDialog → MlTreeSelect → el-tree</span></span></code></pre></div><p>这意味着你可以直接在 <code>&lt;ml-tree-select-dialog&gt;</code> 上监听所有 el-tree 的事件，如：</p><ul><li><code>@node-click</code> - 节点被点击</li><li><code>@node-contextmenu</code> - 节点右键菜单</li><li><code>@check-change</code> - 勾选状态变化</li><li><code>@check</code> - 勾选节点</li><li><code>@current-change</code> - 当前选中节点变化</li><li><code>@node-expand</code> - 节点展开</li><li><code>@node-collapse</code> - 节点收起</li><li><code>@node-drag-start</code> - 节点开始拖拽</li><li><code>@node-drag-enter</code> - 拖拽进入节点</li><li><code>@node-drag-leave</code> - 拖拽离开节点</li><li><code>@node-drag-over</code> - 拖拽经过节点</li><li><code>@node-drag-end</code> - 拖拽结束</li><li><code>@node-drop</code> - 拖拽成功</li></ul></div><h2 id="props" tabindex="-1">Props <a class="header-anchor" href="#props" aria-label="Permalink to “Props”">​</a></h2><h3 id="对话框特有属性" tabindex="-1">对话框特有属性 <a class="header-anchor" href="#对话框特有属性" aria-label="Permalink to “对话框特有属性”">​</a></h3><table tabindex="0"><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>可选值</th><th>默认值</th></tr></thead><tbody><tr><td>modelValue</td><td>对话框的显示状态（v-model）</td><td><code>boolean</code></td><td>—</td><td><code>false</code></td></tr><tr><td>title</td><td>对话框的标题</td><td><code>string</code></td><td>—</td><td><code>&#39;树形选择&#39;</code></td></tr><tr><td>width</td><td>对话框的宽度</td><td><code>string</code></td><td>—</td><td><code>&#39;500px&#39;</code></td></tr></tbody></table><h3 id="树形选择属性" tabindex="-1">树形选择属性 <a class="header-anchor" href="#树形选择属性" aria-label="Permalink to “树形选择属性”">​</a></h3><p>继承 <code>MlTreeSelect</code> 的所有属性，如 <code>treeData</code>、<code>multiple</code>、<code>nodeKey</code> 等。</p><h2 id="events" tabindex="-1">Events <a class="header-anchor" href="#events" aria-label="Permalink to “Events”">​</a></h2><h3 id="组件自定义事件" tabindex="-1">组件自定义事件 <a class="header-anchor" href="#组件自定义事件" aria-label="Permalink to “组件自定义事件”">​</a></h3><table tabindex="0"><thead><tr><th>事件名</th><th>说明</th><th>回调参数</th></tr></thead><tbody><tr><td>confirm</td><td>确认选择时触发</td><td><code>(selectedData: T | T[]) =&gt; void</code></td></tr><tr><td>close</td><td>对话框关闭时触发</td><td><code>() =&gt; void</code></td></tr><tr><td>input</td><td>搜索输入变化时触发</td><td><code>(value: string) =&gt; void</code></td></tr></tbody></table><h3 id="el-tree-透传事件" tabindex="-1">el-tree 透传事件 <a class="header-anchor" href="#el-tree-透传事件" aria-label="Permalink to “el-tree 透传事件”">​</a></h3><p>所有 el-tree 的事件都会自动透传，包括：</p><table tabindex="0"><thead><tr><th>事件名</th><th>说明</th><th>回调参数</th></tr></thead><tbody><tr><td>node-click</td><td>节点被点击时触发</td><td><code>(data, node, instance)</code></td></tr><tr><td>node-contextmenu</td><td>节点被鼠标右键点击时触发</td><td><code>(event, data, node, instance)</code></td></tr><tr><td>check-change</td><td>节点选中状态发生变化时触发</td><td><code>(data, checked, indeterminate)</code></td></tr><tr><td>check</td><td>点击复选框时触发</td><td><code>(data, checkState)</code></td></tr><tr><td>current-change</td><td>当前选中节点变化时触发</td><td><code>(data, node)</code></td></tr><tr><td>node-expand</td><td>节点被展开时触发</td><td><code>(data, node, instance)</code></td></tr><tr><td>node-collapse</td><td>节点被关闭时触发</td><td><code>(data, node, instance)</code></td></tr><tr><td>node-drag-start</td><td>节点开始拖拽时触发</td><td><code>(node, event)</code></td></tr><tr><td>node-drag-enter</td><td>拖拽进入其他节点时触发</td><td><code>(draggingNode, dropNode, event)</code></td></tr><tr><td>node-drag-leave</td><td>拖拽离开某个节点时触发</td><td><code>(draggingNode, dropNode, event)</code></td></tr><tr><td>node-drag-over</td><td>在拖拽节点时触发</td><td><code>(draggingNode, dropNode, event)</code></td></tr><tr><td>node-drag-end</td><td>拖拽结束时触发</td><td><code>(draggingNode, dropNode, dropType, event)</code></td></tr><tr><td>node-drop</td><td>拖拽成功完成时触发</td><td><code>(draggingNode, dropNode, dropType, event)</code></td></tr></tbody></table><h2 id="方法" tabindex="-1">方法 <a class="header-anchor" href="#方法" aria-label="Permalink to “方法”">​</a></h2><p>组件通过 <code>defineExpose</code> 暴露以下方法：</p><table tabindex="0"><thead><tr><th>方法名</th><th>说明</th><th>参数</th><th>返回值</th></tr></thead><tbody><tr><td>input</td><td>触发输入事件</td><td><code>value: string</code></td><td><code>void</code></td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>更多方法请参考内部 <code>MlTreeSelect</code> 组件的方法，可以通过组件实例访问。</p></div><h2 id="使用场景" tabindex="-1">使用场景 <a class="header-anchor" href="#使用场景" aria-label="Permalink to “使用场景”">​</a></h2><ul><li>在表单中选择组织结构或部门</li><li>弹出框中选择权限或菜单</li><li>对话框方式的分类选择</li><li>其他需要树形选择的场景</li></ul><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to “注意事项”">​</a></h2><ol><li><strong>对话框关闭时重置</strong>：关闭对话框时会自动重置树形选择的状态</li><li><strong>属性透传</strong>：对话框的其他属性（如 <code>close-on-click-modal</code>）可以直接传递</li><li><strong>事件透传</strong>：所有 el-tree 的事件都会自动透传，无需手动定义</li><li><strong>双向绑定</strong>：务必使用 <code>v-model</code> 绑定 <code>visible</code> 属性，否则对话框无法正确打开/关闭</li></ol>',20))]))}});export{K as __pageData,R as default};
