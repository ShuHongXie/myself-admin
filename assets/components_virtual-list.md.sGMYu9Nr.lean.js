import{x as p,I as D,b as B,o,w as y,j as i,t as r,a as A,O as S,ag as P,ah as $,c as T,J as u,bl as C}from"./chunks/framework.DFj1EtU5.js";const I={style:{padding:"15px","border-bottom":"1px solid #eee",background:"#fff"}},z={style:{"font-weight":"bold","margin-bottom":"5px",color:"#303133"}},M={style:{color:"#909399","font-size":"12px"}},m=20,f=200,w={__name:"pagination-equal",setup(c){const e=p([]),s=p(!1),n=p(!1),a=p(0),l=async()=>{if(s.value||n.value)return;s.value=!0,a.value++,await new Promise(d=>setTimeout(d,500));const h=(a.value-1)*m,E=a.value*m;if(h>=f){n.value=!0,s.value=!1;return}const t=Array.from({length:m},(d,k)=>{const g=h+k;return g>=f?null:{id:g,title:`数据项 #${g}`,content:`这是第 ${g} 条数据的详细内容`}}).filter(Boolean);e.value.push(...t),s.value=!1,E>=f&&(n.value=!0)};return l(),(h,E)=>{const t=D("ml-virtual-list");return o(),B(t,{height:500,"item-height":60,"item-equal":!0,"data-source":e.value,loading:s.value,finished:n.value,onLoadMore:l},{default:y(({item:d})=>[i("div",I,[i("div",z,r(d.title),1),i("div",M,r(d.content),1)])]),_:1},8,["data-source","loading","finished"])}}},V=["onClick"],L={style:{"font-weight":"bold","font-size":"16px",color:"#303133","margin-bottom":"10px",display:"flex","justify-content":"space-between","align-items":"center"}},N={style:{"font-size":"14px",color:"#909399"}},v=20,b=150,j={__name:"pagination-unequal",setup(c){const e=p([]),s=p(!1),n=p(!1),a=p(0),l=async()=>{if(s.value||n.value)return;s.value=!0,a.value++,await new Promise(k=>setTimeout(k,500));const E=(a.value-1)*v,t=a.value*v;if(E>=b){n.value=!0,s.value=!1;return}const d=Array.from({length:v},(k,g)=>{const F=E+g;if(F>=b)return null;const _=Math.floor(Math.random()*5)+2,x=Array(_).fill(0).map((X,q)=>`这是第 ${F} 条数据的第 ${q+1} 行内容，高度会不一样。`).join("");return{id:F,title:`不等高数据项 #${F}`,content:x,expanded:!1}}).filter(Boolean);e.value.push(...d),s.value=!1,t>=b&&(n.value=!0)},h=E=>{const t=e.value[E];t&&(t.expanded=!t.expanded)};return l(),(E,t)=>{const d=D("ml-virtual-list");return o(),B(d,{height:500,"item-equal":!1,"estimated-item-height":120,"data-source":e.value,loading:s.value,finished:n.value,onLoadMore:l},{default:y(({item:k,index:g})=>[i("div",{onClick:F=>h(g),style:S([{padding:"20px","border-bottom":"1px solid #e4e7ed",background:"#fff",cursor:"pointer",transition:"all 0.2s"},{background:k.expanded?"#f5f7fa":"#fff"}])},[i("div",L,[A(r(k.title)+" ",1),i("span",N,r(k.expanded?"▼":"▶"),1)]),P(i("div",{style:{"font-size":"14px",color:"#606266","line-height":"1.8","margin-bottom":"10px"}},r(k.content),513),[[$,k.expanded]])],12,V)]),loading:y(()=>[...t[0]||(t[0]=[i("div",{style:{color:"#409eff","font-size":"14px"}},[i("i",{class:"el-icon-loading"}),A(" 加载中...")],-1)])]),finished:y(()=>[...t[1]||(t[1]=[i("div",{style:{color:"#67c23a","font-size":"14px"}},"✓ 全部加载完成",-1)])]),_:1},8,["data-source","loading","finished"])}}},O={style:{padding:"15px","border-bottom":"1px solid #eee",background:"#fff"}},R={style:{"font-weight":"bold","margin-bottom":"5px",color:"#303133"}},H={style:{color:"#909399","font-size":"12px"}},J={__name:"no-pagination-equal",setup(c){const s=p((()=>{const n=[];for(let a=0;a<100;a++)n.push({id:a,title:`数据项 #${a}`,content:`这是第 ${a} 条数据，无需分页加载`});return n})());return(n,a)=>{const l=D("ml-virtual-list");return o(),B(l,{height:500,"item-height":60,"item-equal":!0,"data-source":s.value},{default:y(({item:h})=>[i("div",O,[i("div",R,r(h.title),1),i("div",H,r(h.content),1)])]),_:1},8,["data-source"])}}},G={style:{padding:"20px","border-bottom":"1px solid #e4e7ed",background:"#fff"}},K={style:{"font-weight":"bold","font-size":"16px",color:"#303133","margin-bottom":"10px"}},Q={style:{"font-size":"14px",color:"#606266","line-height":"1.8","margin-bottom":"10px"}},U={__name:"no-pagination-unequal",setup(c){const s=p((()=>{const n=[];for(let a=0;a<100;a++){const l=Math.floor(Math.random()*5)+2,h=Array(l).fill(0).map((E,t)=>`这是第 ${a} 条数据的第 ${t+1} 行内容，高度不固定。`).join("");n.push({id:a,title:`不等高数据项 #${a}`,content:h})}return n})());return(n,a)=>{const l=D("ml-virtual-list");return o(),B(l,{height:500,"item-equal":!1,"estimated-item-height":100,"data-source":s.value},{default:y(({item:h})=>[i("div",G,[i("div",K,r(h.title),1),i("div",Q,r(h.content),1)])]),_:1},8,["data-source"])}}},Z=JSON.parse('{"title":"MlVirtualList 虚拟列表","description":"","frontmatter":{},"headers":[],"relativePath":"components/virtual-list.md","filePath":"components/virtual-list.md"}'),W={name:"components/virtual-list.md"},ss=Object.assign(W,{setup(c){return(e,s)=>(o(),T("div",null,[s[0]||(s[0]=i("h1",{id:"mlvirtuallist-虚拟列表",tabindex:"-1"},[A("MlVirtualList 虚拟列表 "),i("a",{class:"header-anchor",href:"#mlvirtuallist-虚拟列表","aria-label":"Permalink to “MlVirtualList 虚拟列表”"},"​")],-1)),s[1]||(s[1]=i("p",null,"高性能虚拟滚动列表组件，支持定高/不定高、分页/无分页多种场景，最多只渲染 10 个 DOM 节点，适用于大量数据展示。",-1)),s[2]||(s[2]=i("h2",{id:"分页加载-定高模式",tabindex:"-1"},[A("分页加载 - 定高模式 "),i("a",{class:"header-anchor",href:"#分页加载-定高模式","aria-label":"Permalink to “分页加载 - 定高模式”"},"​")],-1)),s[3]||(s[3]=i("p",null,"适用于列表项高度固定且需要分页加载的场景，性能最优。",-1)),u(w),s[4]||(s[4]=C("",3)),u(j),s[5]||(s[5]=C("",3)),u(J),s[6]||(s[6]=C("",3)),u(U),s[7]||(s[7]=C("",25))]))}});export{Z as __pageData,ss as default};
