import{d as C,x as y,I as t,c as o,o as g,J as i,e as x,j as k,G as U,H as P,w as p,al as v,b as V,a as F,t as b,bl as m}from"./chunks/framework.DFj1EtU5.js";import{E as D}from"./chunks/theme.NgAwogG-.js";const w=C({__name:"basic",setup(u){const e=y([]);return(s,h)=>{const l=t("ml-image-upload-pro");return g(),o("div",null,[i(l,{modelValue:e.value,"onUpdate:modelValue":h[0]||(h[0]=d=>e.value=d),"max-count":3,"allow-crop":!1,"allow-sort":!0},null,8,["modelValue"])])}}}),T={key:0,style:{"margin-top":"20px"}},z={style:{display:"flex",gap:"10px","flex-wrap":"wrap"}},L=["src","alt"],S={key:0,style:{position:"absolute",top:"5px",right:"5px",background:"#67c23a",color:"white",padding:"2px 6px","font-size":"12px","border-radius":"2px"}},N=C({__name:"crop",setup(u){const e=y([]);return(s,h)=>{const l=t("el-alert"),d=t("ml-image-upload-pro");return g(),o("div",null,[i(l,{title:"提示",type:"info",description:"1. 点击'选择图片'上传图片 2. 在弹出窗口中选择'裁剪' 3. 在裁剪弹窗中调整裁剪框和比例 4. 点击'确认裁剪'完成裁剪",closable:!1,style:{"margin-bottom":"20px"}}),i(d,{modelValue:e.value,"onUpdate:modelValue":h[0]||(h[0]=a=>e.value=a),"auto-upload":!1,"max-count":5,"allow-crop":!0,"allow-sort":!0,"size-limit":{width:400,height:300,size:5}},null,8,["modelValue"]),e.value.length?(g(),o("div",T,[h[1]||(h[1]=k("p",null,[k("strong",null,"本地图片预览：")],-1)),k("div",z,[(g(!0),o(U,null,P(e.value,(a,r)=>(g(),o("div",{key:r,style:{position:"relative"}},[k("img",{src:a.url,style:{width:"100px",height:"100px","object-fit":"cover",border:"1px solid #ddd"},alt:a.name},null,8,L),a.isCover?(g(),o("span",S,"封面")):x("",!0)]))),128))])])):x("",!0)])}}}),R=C({__name:"limit",setup(u){const e=y([]),s=y(5),h=y(!0),l=y(!0);return(d,a)=>{const r=t("el-input-number"),n=t("el-form-item"),c=t("el-switch"),B=t("el-form"),f=t("ml-image-upload-pro");return g(),o("div",null,[i(B,{"label-width":"100px",style:{"margin-bottom":"20px"}},{default:p(()=>[i(n,{label:"最大数量"},{default:p(()=>[i(r,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=E=>s.value=E),min:1,max:10},null,8,["modelValue"])]),_:1}),i(n,{label:"允许裁剪"},{default:p(()=>[i(c,{modelValue:h.value,"onUpdate:modelValue":a[1]||(a[1]=E=>h.value=E)},null,8,["modelValue"])]),_:1}),i(n,{label:"允许排序"},{default:p(()=>[i(c,{modelValue:l.value,"onUpdate:modelValue":a[2]||(a[2]=E=>l.value=E)},null,8,["modelValue"])]),_:1})]),_:1}),i(f,{modelValue:e.value,"onUpdate:modelValue":a[3]||(a[3]=E=>e.value=E),"max-count":s.value,"allow-crop":h.value,"allow-sort":l.value,"size-limit":{width:400,height:300,size:2}},null,8,["modelValue","max-count","allow-crop","allow-sort"])])}}}),I=C({__name:"form",setup(u){const e="http://1.12.51.201:8083",s=v({name:"",images:[]}),h={url:e+"/upload/image",method:"post",fieldName:"file",responseUrlField:"data.url"},l=()=>{const d=s.images.map(r=>r.serverUrl||r.url),a={name:s.name,images:d};console.log("提交数据:",a),D.success("保存成功")};return(d,a)=>{const r=t("ml-image-upload-pro"),n=t("el-form-item"),c=t("el-input"),B=t("el-button"),f=t("el-form");return g(),V(f,{model:s,"label-width":"100px"},{default:p(()=>[i(n,{label:"商品图片"},{default:p(()=>[i(r,{modelValue:s.images,"onUpdate:modelValue":a[0]||(a[0]=E=>s.images=E),"max-count":9,"auto-upload":!0,"upload-api":h},null,8,["modelValue"])]),_:1}),i(n,{label:"产品名称"},{default:p(()=>[i(c,{modelValue:s.name,"onUpdate:modelValue":a[1]||(a[1]=E=>s.name=E),placeholder:"请输入产品名称"},null,8,["modelValue"])]),_:1}),i(n,null,{default:p(()=>[i(B,{type:"primary",onClick:l},{default:p(()=>[...a[2]||(a[2]=[F(" 保存 ",-1)])]),_:1})]),_:1})]),_:1},8,["model"])}}}),M={style:{"margin-top":"16px"}},$={style:{background:"#f5f5f5",padding:"12px","border-radius":"4px","font-size":"12px"}},O=C({__name:"custom-api",setup(u){const e="http://1.12.51.201:8083",s=y([]),h={url:e+"/upload/image",method:"post",fieldName:"img",headers:{Authorization:"Bearer YOUR_TOKEN"},data:{category:"product",bizType:"shop"},responseUrlField:"result.imageUrl"};return(l,d)=>{const a=t("ml-image-upload-pro"),r=t("el-divider");return g(),o("div",null,[i(a,{modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=n=>s.value=n),"max-count":5,"auto-upload":!0,"upload-api":h},null,8,["modelValue"]),i(r),k("div",M,[d[1]||(d[1]=k("h4",null,"当前配置：",-1)),k("pre",$,b(JSON.stringify(h,null,2)),1)])])}}}),j={style:{"margin-bottom":"16px"}},G={style:{"margin-top":"16px"}},J=C({__name:"dynamic-limit",setup(u){const e="http://1.12.51.201:8083",s=y([]),h=y("normal"),l=v({width:800,height:600,size:5}),d={url:e+"/upload/image",method:"post",fieldName:"file",responseUrlField:"data.url"},a=r=>{r==="high"?(l.width=1920,l.height=1080,l.size=10,D.success("已切换到高质量模式")):(l.width=800,l.height=600,l.size=5,D.success("已切换到普通质量模式"))};return(r,n)=>{const c=t("el-radio-button"),B=t("el-radio-group"),f=t("ml-image-upload-pro"),E=t("el-divider"),A=t("el-descriptions-item"),q=t("el-descriptions");return g(),o("div",null,[k("div",j,[i(B,{modelValue:h.value,"onUpdate:modelValue":n[0]||(n[0]=_=>h.value=_),onChange:a},{default:p(()=>[i(c,{label:"normal"},{default:p(()=>[...n[2]||(n[2]=[F("普通质量",-1)])]),_:1}),i(c,{label:"high"},{default:p(()=>[...n[3]||(n[3]=[F("高质量",-1)])]),_:1})]),_:1},8,["modelValue"])]),i(f,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=_=>s.value=_),"max-count":3,"auto-upload":!0,"size-limit":l,"upload-api":d},null,8,["modelValue","size-limit"]),i(E),k("div",G,[n[4]||(n[4]=k("h4",null,"当前限制配置：",-1)),i(q,{column:3,border:"",size:"small"},{default:p(()=>[i(A,{label:"最小宽度"},{default:p(()=>[F(b(l.width)+"px",1)]),_:1}),i(A,{label:"最小高度"},{default:p(()=>[F(b(l.height)+"px",1)]),_:1}),i(A,{label:"文件大小"},{default:p(()=>[F(b(l.size)+"MB",1)]),_:1})]),_:1})])])}}}),Y=JSON.parse('{"title":"MlImageUploadPro 图片上传裁剪","description":"","frontmatter":{},"headers":[],"relativePath":"components/image-upload-pro.md","filePath":"components/image-upload-pro.md"}'),H={name:"components/image-upload-pro.md"},W=Object.assign(H,{setup(u){return(e,s)=>(g(),o("div",null,[s[0]||(s[0]=k("h1",{id:"mlimageuploadpro-图片上传裁剪",tabindex:"-1"},[F("MlImageUploadPro 图片上传裁剪 "),k("a",{class:"header-anchor",href:"#mlimageuploadpro-图片上传裁剪","aria-label":"Permalink to “MlImageUploadPro 图片上传裁剪”"},"​")],-1)),s[1]||(s[1]=k("p",null,"一个功能完整的图片上传、裁剪、排序组件，支持自动上传、手动上传、图片裁剪、拖拽排序等功能。",-1)),s[2]||(s[2]=k("h2",{id:"基础用法",tabindex:"-1"},[F("基础用法 "),k("a",{class:"header-anchor",href:"#基础用法","aria-label":"Permalink to “基础用法”"},"​")],-1)),s[3]||(s[3]=k("p",null,"最简单的使用方式，自动上传到服务器。",-1)),i(w),s[4]||(s[4]=m("",4)),i(N),s[5]||(s[5]=m("",5)),i(R),s[6]||(s[6]=m("",5)),i(I),s[7]||(s[7]=m("",4)),i(O),s[8]||(s[8]=m("",4)),i(J),s[9]||(s[9]=m("",29))]))}});export{Y as __pageData,W as default};
